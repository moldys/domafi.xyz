<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Domafi.xyz – The DomainFi Bank</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-50 text-slate-800">

<header class="bg-white shadow">
<div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
<img src="logo.png" class="h-10 md:h-12" alt="Domafi">

<nav class="space-x-6 text-sm">
<a href="#vault">Vault</a>
<a href="#borrow">Borrow</a>
<a href="#stake">Stake</a>
<a href="#trade">Trade</a>
<a href="#launchpad">Launchpad</a>
</nav>

<button id="connectBtn" class="bg-blue-600 text-white px-4 py-2 rounded-xl">
Connect Wallet
</button>

<button id="disconnectBtn"
 style="display:none"
 class="bg-red-500 text-white px-4 py-2 rounded-xl ml-2">
Disconnect
</button>

<span id="walletAddress" class="ml-3 text-xs text-slate-500"></span>


</div>
</header>

<section class="max-w-7xl mx-auto px-6 py-24 text-center">
<h1 class="text-5xl font-bold mb-4">The DomainFi Bank</h1>
<p class="text-slate-600 mb-8">Store, stake, borrow and trade tokenized domains on Doma Network.</p>
<p class="text-sm text-blue-500 mb-8">Built on Doma Protocol</p>
<a href="#vault" class="bg-blue-600 text-white px-8 py-4 rounded-xl">Enter Domafi</a>
</section>

<section id="fakeVault" class="max-w-7xl mx-auto px-6 py-16">
<h2 class="text-2xl font-bold mb-6">My Vault</h2>

<div class="grid md:grid-cols-3 gap-6 mb-8">
  <div class="bg-white p-6 rounded-xl shadow">USDC Balance<br><b id="vaultUSDC"></b></div>
  <div class="bg-white p-6 rounded-xl shadow">Borrowed<br><b id="vaultBorrowed"></b></div>
  <div class="bg-white p-6 rounded-xl shadow">Domains<br><b id="vaultCount"></b></div>
</div>

<h3 class="font-bold mb-3">My Domains</h3>
<div id="vaultDomains" class="grid md:grid-cols-3 gap-6"></div>
</section>


<section id="launchpad" class="max-w-7xl mx-auto px-6 py-16">
<h2 class="text-2xl font-bold mb-6">Domain Launchpad</h2>
<p>Launch fractionalized premium domains to the community.</p>
</section>

<footer class="text-center py-8 text-sm text-slate-500">
© 2025 Domafi.xyz – DomainFi Bank
</footer>

<script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script>
let VAULT = {
  usdc: 12500,
  borrowed: 3200,
  domains: [
    { name: "bruh.xyz", value: 1800 },
    { name: "domafi.xyz", value: 4500 },
    { name: "rekt.xyz", value: 900 }
  ]
};
</script>
<script>
function renderVault(){
  document.getElementById("vaultUSDC").innerText = "$" + VAULT.usdc;
  document.getElementById("vaultBorrowed").innerText = "$" + VAULT.borrowed;

  let html = "";
  VAULT.domains.forEach(d=>{
    html += `<div class="bg-white p-4 rounded-xl shadow">
      <b>${d.name}</b><br>Collateral Value: $${d.value}
    </div>`;
  });

  document.getElementById("vaultDomains").innerHTML = html;
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const connectBtn = document.getElementById("connectBtn");
  const disconnectBtn = document.getElementById("disconnectBtn");
  const addr = document.getElementById("walletAddress");
  const list = document.getElementById("domainList");

  function setConnected(account){
    connectBtn.style.display = "none";
    disconnectBtn.style.display = "inline-block";
    connectBtn.innerText = "Connected";
    addr.innerText = account.slice(0,6)+"..."+account.slice(-4);

    localStorage.setItem("wallet", account);

    list.innerHTML = `
      <div class="bg-white p-4 rounded-xl shadow">
        <b>Vault Active</b><br>
        Wallet: ${account}<br>
        Domains Stored: 3<br>
        Yield: 2.3% APR
      </div>
    `;
  }

  function resetUI(){
    connectBtn.style.display = "inline-block";
    disconnectBtn.style.display = "none";
    connectBtn.innerText = "Connect Wallet";
    addr.innerText = "";
    list.innerHTML = "";
    localStorage.removeItem("wallet");
  }

  connectBtn.onclick = async () => {
    try{
      if(!window.ethereum) return alert("Install MetaMask");

      const provider = new ethers.providers.Web3Provider(window.ethereum);
      const accounts = await provider.send("eth_requestAccounts", []);
      setConnected(accounts[0]);
renderVault();
document.getElementById("vaultCount").innerText = VAULT.domains.length;
document.getElementById("fakeVault").classList.remove("hidden");

    }catch(e){ alert("Wallet rejected"); }
  };

  disconnectBtn.onclick = () => resetUI();

  // Auto restore
  const saved = localStorage.getItem("wallet");
  if(saved) setConnected(saved);

});
</script>








</body>
</html>
